(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b455d39a"],{aa3e:function(e,t,s){},b83d:function(e,t,s){"use strict";var r=s("aa3e"),a=s.n(r);a.a},c66d:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ProfilePage"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isLogged,expression:"isLogged"}]},[s("div",{staticClass:"userInfos"},[s("div",[e._v("Username: "+e._s(e.currentUser.username))]),s("div",[e._v("Likes: "+e._s(e.usersLikes))]),s("div",{staticClass:"images"},e._l(this.userPhotos,(function(e){return s("div",{key:e.id,staticClass:"image"},[s("img",{attrs:{src:"data:image/jpg;base64,"+e.image.data}})])})),0)]),s("div",{staticClass:"upload_img"},[s("input",{staticClass:"input-file",attrs:{type:"file",accept:"image/*"},on:{change:e.onPhotoSelected}}),s("b-button",{on:{click:e.onUpload}},[e._v("Upload")])],1),s("b-button",{attrs:{type:"is-success"},on:{click:e.BrowseAll}},[e._v("Browse all")])],1)])},a=[],n=(s("96cf"),s("1da1")),o=s("af91"),i=s("dc6e"),c={data:function(){return{selectedPhoto:null,usersLikes:null}},methods:{onPhotoSelected:function(e){this.selectedPhoto=e.target.files[0]},onUpload:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null==e.selectedPhoto){t.next=14;break}return s=new FormData,s.append("name","file"),s.append("userId",e.currentUser.id),s.append("file",e.selectedPhoto),t.prev=5,t.next=8,o["a"].upload(s);case 8:e.LoadAllPic(),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](5),e.ImageUploadError();case 14:case"end":return t.stop()}}),t,null,[[5,11]])})))()},LoadAllPic:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].loadAll();case 2:s=t.sent,e.$store.dispatch("auth/cacheUserPhotos",s);case 4:case"end":return t.stop()}}),t)})))()},ImageUploadError:function(){this.$buefy.toast.open({message:"Image may be larger than the allowed size </b>",type:"is-danger"})},BrowseAll:function(){this.$router.push("/browseAll").catch((function(e){}))}},created:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLogged||e.$router.push("/"),0==e.userPhotos.length&&e.LoadAllPic(),t.next=4,i["a"].getUsersLikes();case 4:e.usersLikes=t.sent;case 5:case"end":return t.stop()}}),t)})))()},components:{},computed:{currentUser:function(){return this.$store.state.auth.user},isLogged:function(){return this.$store.state.auth.status.loggedIn},userPhotos:function(){return this.$store.state.auth.userPhotos}}},u=c,l=(s("b83d"),s("2877")),d=Object(l["a"])(u,r,a,!1,null,"2c678b42",null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-b455d39a.c6fefd01.js.map